### 浏览器的各级缓存
 三级缓存指的是：首先找内存（memory cache），否则再找硬盘（disk cache），再否则发起网络请求。

 > 浏览器会在js和图片等文件解析执行后直接存入*内存缓存*中，那么当刷新页面时只需直接从内存缓存中读取(from memory cache)；而css文件则会存入硬盘文件中，所以每次渲染页面都需要从硬盘读取缓存(from disk cache)。

### 强（制）缓存
 * “强制”，指的是浏览器的缓存方式遵循响应报文`cache-control`、`expires`等字段内容的控制。按要求决定是否发起协商缓存。
 * **强缓存*命中***，指的是**没有向服务端发起实际的HTTP请求**，可以直接使用浏览器中的缓存。返回的状态码为 `200 OK`
 > public：客户端和代理服务器都可缓存  
 > private：只有客户端可以缓存，Cache-Control的默认取值  
 > no-cache：不再强缓存，每次请求都会询问服务端  
 > no-store：不使用强制缓存，也不使用协商缓存  
 > max-age=xxx (xxx is numeric)：缓存内容将在xxx秒后失效  

### 协商缓存
 * 发现强缓存过期（或不可使用）时，客户端向服务器寻求资源。需要客户端和服务器两端进行交互。
 * 协商缓存依赖两个字段进行。这两个字段在响应报文中为`eTag`和`last-modified`；在请求报文中变为 `if-none-matched` 和 `if-modified-since`。
 * 协商缓存命中，返回`304 Not Modified`；不命中重新传回资源，返回`200 OK`

> **`eTag`**用来弥补仅靠`last-modified`无法实现的作用——也就是一些文件可能会周期性地更新，但也许更新地结果是文件不改变，那么此时`eTag`会保持不变，而`last-modified`改变了。只靠一个字段，则还会出现文件重传，`eTag`不变，则可以不传回文件。